generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model quiz_answers {
  id             String          @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  question_id    String?         @db.Uuid
  answer         String
  created_at     DateTime?       @default(now()) @db.Timestamp(6)
  quiz_questions quiz_questions? @relation(fields: [question_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model quiz_info {
  id             String           @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  teacher_id     String?          @db.Uuid
  title          String
  resources      String[]
  created_at     DateTime?        @default(now()) @db.Timestamp(6)
  teachers       teachers?        @relation(fields: [teacher_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  quiz_questions quiz_questions[]
}

model quiz_options {
  id             String          @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  question_id    String?         @db.Uuid
  option         String
  created_at     DateTime?       @default(now()) @db.Timestamp(6)
  quiz_questions quiz_questions? @relation(fields: [question_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model quiz_questions {
  id           String         @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  quiz_id      String?        @db.Uuid
  question     String
  created_at   DateTime?      @default(now()) @db.Timestamp(6)
  quiz_answers quiz_answers[]
  quiz_options quiz_options[]
  quiz_info    quiz_info?     @relation(fields: [quiz_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model sources {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  teacher_id  String    @db.Uuid
  source_name String?
  created_at  DateTime? @default(now()) @db.Timestamp(6)
  teachers    teachers  @relation(fields: [teacher_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  topics      topics[]
}

model teachers {
  teacher_name String?
  id           String      @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email        String?     @unique
  password     String?
  created_at   DateTime?   @default(now()) @db.Timestamp(6)
  quiz_info    quiz_info[]
  sources      sources[]
}

model topics {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  source_id  String    @db.Uuid
  topic_name String?
  topic_data String?
  created_at DateTime? @default(now()) @db.Timestamp(6)
  sources    sources   @relation(fields: [source_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}
